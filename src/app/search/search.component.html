<!-- Search form -->
<div class="row">
    <form [formGroup]="form">
        <!-- Search box -->
        <div class="form-floating">
            <input #searchBox formControlName="pattern" type="search" class="form-control" id="search-text"
                   aria-describedby="search-help" placeholder="afk.">
            <label for="search-text" i18n>Abbreviation or acronym</label>
        </div>

        <div class="d-flex justify-content-between flex-wrap">
            <!-- Examples -->
            <div class="mt-3 form-text text-small" id="search-help">
                <span class="text-muted me-1" i18n>Some examples:</span>
                <a *ngFor="let a of abbrExamples" routerLink="." [queryParams]="{q: a.abbr, a: true}" class="abbr-term mx-1">{{ a.abbr }}</a>
            </div>

            <!-- In abbreviation only -->
            <div class="mt-3 form-check">
                <input formControlName="abbrOnly" class="form-check-input" type="checkbox" id="abbr-only">
                <label class="form-check-label" for="abbr-only" i18n>In abbreviation only</label>
            </div>
        </div>
    </form>
</div>

<!-- Results -->
<div *ngIf="abbreviations" class="row">
    <!-- No results banner -->
    <div *ngIf="!abbreviations!.length" class="py-3 text-muted fadeIn" i18n>Nothing found.</div>

    <!-- Search results -->
    <div *ngIf="abbreviations!.length" class="fadeIn">
        <!-- Result count -->
        <div class="pt-3 pb-2 border-bottom fw-bold">
            <ng-container i18n>Found:</ng-container>&ngsp;
            <span class="badge bg-secondary">{{ abbreviations!.length }}</span>
        </div>
        <!-- Result table -->
        <div class="table-responsive">
            <table class="table">
                <tbody>
                <tr *ngFor="let a of abbreviations">
                    <td>{{ a.abbr }}</td>
                    <td>{{ a.text }}</td>
                    <td>
                        {{ a.translation[locale] }}
                        <div *ngIf="a.seeAlso?.length" class="mt-2 small">
                            (<ng-container i18n>see also</ng-container>
                            &ngsp;
                            <a *ngFor="let sa of a.seeAlso" routerLink="." [queryParams]="{q: sa, a: true}" class="abbr-term mx-1">{{ sa }}</a>)
                        </div>
                    </td>
                </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>
